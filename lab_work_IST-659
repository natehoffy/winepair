DROP TABLE IF EXISTS Product;

CREATE TABLE IF NOT EXISTS Product (
	ProductID INT NOT NULL,
	ProductName CHAR(30) NOT NULL,
	ProductDescription VARCHAR(255),
	QtyOnHand INT NOT NULL,
	
	PRIMARY KEY (ProductID)
);

DESCRIBE Product;

ALTER TABLE Product DROP ProductID; 
ALTER TABLE Product ADD ProductID INT PRIMARY KEY AUTO_INCREMENT FIRST;
DROP TABLE IF EXISTS Vendor;

CREATE TABLE IF NOT EXISTS Vendor (
	VendorID INT NOT NULL AUTO_INCREMENT,
	VendorName CHAR(30),
	
	PRIMARY KEY (VendorID),
	UNIQUE INDEX (VendorID)
);

DROP TABLE IF EXISTS VendorProduct;

CREATE TABLE IF NOT EXISTS VendorProduct (
	VendorProductID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	Cost DECIMAL(12,4) NOT NULL,
	ProductID INT NOT NULL,
	VendorID INT NOT NULL,
	
	FOREIGN KEY (ProductID) REFERENCES Product(ProductID) ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (VendorID) REFERENCES Vendor(VendorID) ON DELETE CASCADE ON UPDATE CASCADE
);

INSERT INTO Vendor (VendorName)
	VALUES 
		('Spikey'),
		('Tweebox'),
		('Ernder Ermer');
